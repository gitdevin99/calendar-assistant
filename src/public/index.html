<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Calendar Assistant</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js'></script>
</head>
<body>
    <div id="chat-container">
        <div id="messages"></div>
        <div id="input-container">
            <button id="start-recording" class="record-btn">üé§ Start Recording</button>
            <button id="stop-recording" class="record-btn" style="display: none;">‚èπ Stop Recording</button>
            <input type="text" id="message-input" placeholder="Type your message...">
            <button id="send-message">Send</button>
        </div>
    </div>

    <div id="auth-container">
        <button id="google-auth" onclick="window.location.href='/auth/google'">Sign in with Google Calendar</button>
    </div>
    <div class="container">
        <h1>AI Calendar Assistant</h1>
        
        <div class="auth-container">
            <a href="/auth/google" class="google-signin-btn">Sign in with Google Calendar</a>
        </div>

        <div id="calendar" class="calendar-container" style="display: none;"></div>

        <!-- ElevenLabs Chat Widget -->
        <elevenlabs-convai agent-id="dCe1XFhpFSpS9RPsUg9S"></elevenlabs-convai>
        <script src="https://elevenlabs.io/convai-widget/index.js" async type="text/javascript"></script>
        <div class="agent-container">
            <p class="instructions">To interact with your AI Calendar Assistant:</p>
            <ol class="steps">
                <li>First, sign in with Google Calendar above to grant calendar access</li>
                <li>Then, <a href="https://elevenlabs.io/app/talk-to?agent_id=dCe1XFhpFSpS9RPsUg9S" target="_blank" class="agent-link">Click here to open your AI Calendar Assistant</a></li>
            </ol>
            <div class="agent-info">
                <p>You can ask your assistant to:</p>
                <ul>
                    <li>Check available time slots</li>
                    <li>Schedule meetings</li>
                    <li>View your calendar</li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>
